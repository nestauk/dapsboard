import { configurationConfig } from './formconfig.config';
// import { formConfig } from './form.config';
import { docsConfig } from './docs.config';

export const routeConfig = {
	id: 'Route',
	initial: 'Loading',
	on: {
		ROUTE_CHANGED: {
			target: 'Navigating'
		}
	},
	states: {
		Loading: {
			on: {
				READY: {
					target: 'Interactive',
					actions: [
						'parseParams'
					]
				}
			}
		},
		Navigating: {
			on: {
				NAVIGATED: {
					target: 'Interactive',
					actions: [
						'reset',
						'parseParams'
					]
				}
			}
		},
		Interactive: {
			onEntry: ['spawnNestedForm','selectForm'],
			type: 'parallel',
			states: {
				FormConfig: configurationConfig,
				Docs: docsConfig,
			},
			on: {
				FORM_ACTIVATED: {
					actions: [
						'log',
						'selectForm'
					]
				}
			}
		}
	}
};
