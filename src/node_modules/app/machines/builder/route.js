// eslint-disable-next-line node/no-unpublished-import
import { createMachina } from '../utils';

import { configurationOptions } from './formconfig.options';
import { docsOptions } from './docs.options';
import { routeOptions } from './route.options';
import { routeConfig } from './route.config';
import { createBuilderStores } from './_context';

export const fullRouteOptions = {
	actions: {
		...configurationOptions.actions,
		...docsOptions.actions,
		...routeOptions.actions
	},
	guards: {
		...configurationOptions.guards,
		...docsOptions.guards,
		...routeOptions.guards,
	}
};

export const createBuilderMachine = () => createMachina(routeConfig, fullRouteOptions, createBuilderStores());
