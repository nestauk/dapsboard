<script>
export let options;
export let selectedOption;
export let unselectable = true;

function handleClick (v, isDisabled) {
	if (unselectable && selectedOption === v) {
		selectedOption = undefined;
		return;
	}

	if (!isDisabled) {
		selectedOption = v;
	}
}
</script>

<ul>
	{#each options as opt}
		<li on:click={() => handleClick(opt.value, opt.disabled)} class:disabled={opt.disabled} class:selected={opt.value===selectedOption}>{opt.text}</li>
	{/each}
</ul>

<style>
ul {
	grid-area: select;
	overflow: auto;
}

li {
	cursor: pointer;
}

li.disabled {
	color: #fC8;
	font-weight: normal;
}

li.selected {
	background: #248;
	color: white
}

li.selected.disabled {
	background: #842;
}
</style>
