<script>
	// eslint-disable-next-line node/no-unpublished-import
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();

	export let id = null;
	export let required = false;
	export let value = null;
    export let defaultValue;
    export let list;

	function handleFocus () {
		dispatch('focus');
	}

	function handleBlur () {
		dispatch('blur');
	}

	function handleChange (payload) {
		dispatch('change', payload);
	}

	$: handleChange(value);
</script>

<div
	class:required 
	class:unset={value === null}
	class:default={value === defaultValue}
>
	<input
		id={id} type='radio'
		bind:group={value}
		value={null}
		on:focus={handleFocus}
		on:blur={handleBlur}
	>
    <label for={id} class='boolean-state'>Unset</label>
    {#each list as item}
        <input
            id={`${id}-${item}`} type='radio'
            bind:group={value}
            value={item}
            on:focus={handleFocus}
            on:blur={handleBlur}
        >
        <label for={`${id}-${item}`} class='boolean-state'>{item}</label>
    {/each}
</div>

<style>
	.required.unset {
		color: red;
	}
	.default {
		background-color: #fff1ff;
	}
	label {
		margin-right: 1em;
	}

</style>
