<script>
	import {createEventDispatcher} from 'svelte';

	import FieldCount from './FieldCount.svelte';

	const dispatch = createEventDispatcher();

	export let fieldStats = [];
	export let selectedFieldName;

	function selectField (fieldName) {
		selectedFieldName = fieldName;
		dispatch('fieldSelected', fieldName);
	}
</script>

{#each fieldStats as field}
	<div
		class:bold={field.name === selectedFieldName}
		class:selected={field.name === selectedFieldName}
		class='fields clickable'
		on:mousedown={() => selectField(field.name)}
	>
		<FieldCount
			fieldName={field.name}
			count={field.count}
		/>
	</div>
{/each}

<style>
	div {
		background: var(--color-menu-light);
		border-bottom: thin solid var(--color-menu-dark);
		color: var(--color-menu-dark);
		font-size: medium;
		padding: .5em;
	}

	div:last-child {
		border-bottom: none;
	}
	div.selected {
		background: var(--color-menu-dark);
		color: var(--color-menu-light);
		font-family: 'Open Sans Bold';
		font-weight: bold;
	}
</style>
