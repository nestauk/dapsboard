<script>
	// eslint-disable-next-line node/no-unpublished-import
	import { createEventDispatcher } from 'svelte';

	const dispatch = createEventDispatcher();

	export let id;
	export let required;
	export let value;
	export let defaultValue;

	function handleFocus () {
		dispatch('focus');
	}

	function handleBlur () {
		dispatch('blur');
	}
</script>

<div
	class:required 
	class:unset={value === 'null'}
	class:default={value === defaultValue}
>
	<input
		id={id} type='radio'
		bind:group={value}
		value={'null'}
		on:focus={handleFocus}
		on:blur={handleBlur}
	>
	<label for={id} class='boolean-state'>Unset</label>
	<input
		id={`${id}-true`} type='radio'
		bind:group={value}
		value={true}
		on:focus={handleFocus}
		on:blur={handleBlur}
	>
	<label for={`${id}-true`} class='boolean-state'>True</label>
	<input
		id={`${id}-false`} type='radio'
		bind:group={value}
		value={false}
		on:focus={handleFocus}
		on:blur={handleBlur}
	>
	<label for={`${id}-false`} class='boolean-state'>False</label>
</div>

<style>
	.required.unset {
		color: red;
	}
	.default {
		background-color: #fedeff;
	}
</style>
